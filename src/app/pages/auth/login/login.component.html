<div class="auth-container">
  <div class="auth-form-wrapper">
    <p-card class="auth-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <i class="pi pi-user user-icon"></i>
        </div>
      </ng-template>

      <ng-template pTemplate="title">
        <h2 class="auth-title">Login</h2>
      </ng-template>

      <ng-template pTemplate="subtitle">
        <p class="auth-subtitle">Inicie sesión en su cuenta</p>
      </ng-template>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
        <!-- Username -->
        <div class="input-container">
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <i class="pi pi-user"></i>
            </span>
            <input
              pInputText
              formControlName="username"
              placeholder="Username"
              [class.ng-invalid]="loginForm.controls['username'].invalid && loginForm.controls['username'].touched"
            />
          </div>
          <div *ngIf="loginForm.controls['username'].invalid && loginForm.controls['username'].touched" class="error-message">
            El usuario es requerido.
          </div>
        </div>

        <!-- Password -->
        <div class="input-container">
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <i class="pi pi-lock"></i>
            </span>
            <input
              pInputText
              type="password"
              formControlName="password"
              placeholder="Password"
              [class.ng-invalid]="loginForm.controls['password'].invalid && loginForm.controls['password'].touched"
            />
          </div>
          <div *ngIf="loginForm.controls['password'].invalid && loginForm.controls['password'].touched" class="error-message">
            La contraseña es requerida.
          </div>
        </div>

        <!-- Buttons -->
        <div class="button-container">
          <button
            pButton
            type="button"
            label="Cancelar"
            class="p-button-outlined p-button-secondary cancel-btn"
            (click)="loginForm.reset()"
          ></button>

          <button
            pButton
            type="submit"
            label="Login"
            class="login-btn"
            [disabled]="loginForm.invalid"
            [loading]="isLoading"
          ></button>
        </div>
      </form>

      <div class="register-link">
        <p>¿No tienes una cuenta?</p>
        <button
          pButton
          label="Registrarse"
          icon="pi pi-user-plus"
          class="p-button-sm p-button-text"
          routerLink="/auth/register"
        ></button>
      </div>
    </p-card>
  </div>

  <div class="auth-image-wrapper">
    <div class="auth-image-text">
      <h1>Login</h1>
      <hr />
    </div>
  </div>
</div>
